name: Verify valid GitHub Token
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [ push ]

jobs:
  test-valid-token:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "ðŸ¤ The token is: ${{ github.token }}"
      - run: gh auth login --help | grep with-token
      - run: echo "${{ github.token }}" > mytoken.txt
      - run: gh auth login --with-token < mytoken.txt
      - run: gh auth status
      - run: gh repo list --json name,owner
      - run: gh workflow list --repo ${{ github.repository }} --json
  test-invalid-token:
    runs-on: ubuntu-latest
    steps:
      - run: echo "not-a-valid-token" > mytoken.txt
      - run: gh auth login --with-token < mytoken.txt
      - run: gh auth status
